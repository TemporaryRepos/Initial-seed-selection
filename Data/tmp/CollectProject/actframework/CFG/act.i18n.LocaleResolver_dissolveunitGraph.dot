digraph "unitGraph" {
    "r0 := @this: act.i18n.LocaleResolver"
    "$z0 = specialinvoke r0.<act.i18n.LocaleResolver: boolean shouldWriteLocaleCookie()>()"
    "if $z0 != 0 goto $r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"
    "return"
    "$r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"
    "r2 = virtualinvoke $r1.<act.conf.AppConfig: java.lang.String localeCookieName()>()"
    "$r3 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"
    "r20 = virtualinvoke $r3.<act.app.ActionContext: java.util.Locale locale()>()"
    "if null != r20 goto r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()"
    "r20 = r0.<act.i18n.LocaleResolver: java.util.Locale locale>"
    "r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()"
    "$r5 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"
    "r6 = virtualinvoke $r5.<act.app.ActionContext: org.osgl.http.H$Session session()>()"
    "if null == r6 goto $r21 = new org.osgl.http.H$Cookie"
    "$z2 = r0.<act.i18n.LocaleResolver: boolean reset>"
    "if $z2 == 0 goto virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)"
    "virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV remove(java.lang.String)>(\"__locale__\")"
    "goto [?= $r21 = new org.osgl.http.H$Cookie]"
    "virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)"
    "$r21 = new org.osgl.http.H$Cookie"
    "specialinvoke $r21.<org.osgl.http.H$Cookie: void <init>(java.lang.String,java.lang.String)>(r2, r4)"
    "r7 = $r21"
    "$r22 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"
    "$r23 = virtualinvoke $r22.<act.conf.AppConfig: java.lang.String cookieDomain()>()"
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie domain(java.lang.String)>($r23)"
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie path(java.lang.String)>(\"/\")"
    "$z3 = r0.<act.i18n.LocaleResolver: boolean reset>"
    "if $z3 == 0 goto $i0 = 604800"
    "$i0 = -1"
    "goto [?= virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)]"
    "$i0 = 604800"
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)"
    "$z1 = r0.<act.i18n.LocaleResolver: boolean reset>"
    "if $z1 == 0 goto $r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"
    "$r13 = staticinvoke <org.joda.time.DateTime: org.joda.time.DateTime now()>()"
    "$r14 = virtualinvoke $r13.<org.joda.time.DateTime: org.joda.time.DateTime minusDays(int)>(1)"
    "$r15 = virtualinvoke $r14.<org.joda.time.DateTime: java.util.Date toDate()>()"
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie expires(java.util.Date)>($r15)"
    "$r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"
    "$r12 = virtualinvoke $r11.<act.app.ActionContext: act.ActResponse resp()>()"
    "virtualinvoke $r12.<act.ActResponse: void addCookie(org.osgl.http.H$Cookie)>(r7)"
    "r0 := @this: act.i18n.LocaleResolver"->"$z0 = specialinvoke r0.<act.i18n.LocaleResolver: boolean shouldWriteLocaleCookie()>()";
    "$z0 = specialinvoke r0.<act.i18n.LocaleResolver: boolean shouldWriteLocaleCookie()>()"->"if $z0 != 0 goto $r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>";
    "if $z0 != 0 goto $r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"->"return";
    "if $z0 != 0 goto $r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"->"$r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>";
    "$r1 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"->"r2 = virtualinvoke $r1.<act.conf.AppConfig: java.lang.String localeCookieName()>()";
    "r2 = virtualinvoke $r1.<act.conf.AppConfig: java.lang.String localeCookieName()>()"->"$r3 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>";
    "$r3 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"->"r20 = virtualinvoke $r3.<act.app.ActionContext: java.util.Locale locale()>()";
    "r20 = virtualinvoke $r3.<act.app.ActionContext: java.util.Locale locale()>()"->"if null != r20 goto r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()";
    "if null != r20 goto r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()"->"r20 = r0.<act.i18n.LocaleResolver: java.util.Locale locale>";
    "if null != r20 goto r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()"->"r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()";
    "r20 = r0.<act.i18n.LocaleResolver: java.util.Locale locale>"->"r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()";
    "r4 = virtualinvoke r20.<java.util.Locale: java.lang.String toString()>()"->"$r5 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>";
    "$r5 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"->"r6 = virtualinvoke $r5.<act.app.ActionContext: org.osgl.http.H$Session session()>()";
    "r6 = virtualinvoke $r5.<act.app.ActionContext: org.osgl.http.H$Session session()>()"->"if null == r6 goto $r21 = new org.osgl.http.H$Cookie";
    "if null == r6 goto $r21 = new org.osgl.http.H$Cookie"->"$z2 = r0.<act.i18n.LocaleResolver: boolean reset>";
    "if null == r6 goto $r21 = new org.osgl.http.H$Cookie"->"$r21 = new org.osgl.http.H$Cookie";
    "$z2 = r0.<act.i18n.LocaleResolver: boolean reset>"->"if $z2 == 0 goto virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)";
    "if $z2 == 0 goto virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)"->"virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV remove(java.lang.String)>(\"__locale__\")";
    "if $z2 == 0 goto virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)"->"virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)";
    "virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV remove(java.lang.String)>(\"__locale__\")"->"goto [?= $r21 = new org.osgl.http.H$Cookie]";
    "goto [?= $r21 = new org.osgl.http.H$Cookie]"->"$r21 = new org.osgl.http.H$Cookie";
    "virtualinvoke r6.<org.osgl.http.H$Session: org.osgl.http.H$KV put(java.lang.String,java.lang.String)>(\"__locale__\", r4)"->"$r21 = new org.osgl.http.H$Cookie";
    "$r21 = new org.osgl.http.H$Cookie"->"specialinvoke $r21.<org.osgl.http.H$Cookie: void <init>(java.lang.String,java.lang.String)>(r2, r4)";
    "specialinvoke $r21.<org.osgl.http.H$Cookie: void <init>(java.lang.String,java.lang.String)>(r2, r4)"->"r7 = $r21";
    "r7 = $r21"->"$r22 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>";
    "$r22 = r0.<act.i18n.LocaleResolver: act.conf.AppConfig config>"->"$r23 = virtualinvoke $r22.<act.conf.AppConfig: java.lang.String cookieDomain()>()";
    "$r23 = virtualinvoke $r22.<act.conf.AppConfig: java.lang.String cookieDomain()>()"->"virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie domain(java.lang.String)>($r23)";
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie domain(java.lang.String)>($r23)"->"virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie path(java.lang.String)>(\"/\")";
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie path(java.lang.String)>(\"/\")"->"$z3 = r0.<act.i18n.LocaleResolver: boolean reset>";
    "$z3 = r0.<act.i18n.LocaleResolver: boolean reset>"->"if $z3 == 0 goto $i0 = 604800";
    "if $z3 == 0 goto $i0 = 604800"->"$i0 = -1";
    "if $z3 == 0 goto $i0 = 604800"->"$i0 = 604800";
    "$i0 = -1"->"goto [?= virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)]";
    "goto [?= virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)]"->"virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)";
    "$i0 = 604800"->"virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)";
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie maxAge(int)>($i0)"->"$z1 = r0.<act.i18n.LocaleResolver: boolean reset>";
    "$z1 = r0.<act.i18n.LocaleResolver: boolean reset>"->"if $z1 == 0 goto $r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>";
    "if $z1 == 0 goto $r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"->"$r13 = staticinvoke <org.joda.time.DateTime: org.joda.time.DateTime now()>()";
    "if $z1 == 0 goto $r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"->"$r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>";
    "$r13 = staticinvoke <org.joda.time.DateTime: org.joda.time.DateTime now()>()"->"$r14 = virtualinvoke $r13.<org.joda.time.DateTime: org.joda.time.DateTime minusDays(int)>(1)";
    "$r14 = virtualinvoke $r13.<org.joda.time.DateTime: org.joda.time.DateTime minusDays(int)>(1)"->"$r15 = virtualinvoke $r14.<org.joda.time.DateTime: java.util.Date toDate()>()";
    "$r15 = virtualinvoke $r14.<org.joda.time.DateTime: java.util.Date toDate()>()"->"virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie expires(java.util.Date)>($r15)";
    "virtualinvoke r7.<org.osgl.http.H$Cookie: org.osgl.http.H$Cookie expires(java.util.Date)>($r15)"->"$r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>";
    "$r11 = r0.<act.i18n.LocaleResolver: act.app.ActionContext context>"->"$r12 = virtualinvoke $r11.<act.app.ActionContext: act.ActResponse resp()>()";
    "$r12 = virtualinvoke $r11.<act.app.ActionContext: act.ActResponse resp()>()"->"virtualinvoke $r12.<act.ActResponse: void addCookie(org.osgl.http.H$Cookie)>(r7)";
    "virtualinvoke $r12.<act.ActResponse: void addCookie(org.osgl.http.H$Cookie)>(r7)"->"return";
}
